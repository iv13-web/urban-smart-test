(this["webpackJsonpurban-smart-test"]=this["webpackJsonpurban-smart-test"]||[]).push([[0],{62:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(8),c=n.n(a),s=(n(62),n(35)),u=n(12),o=n(25),l=n(51),d=n(17),b=n(7),j=["component"];function f(e){var t=e.component,n=Object(l.a)(e,j),r=Object(d.c)((function(e){return e.auth.isSignedIn}));return Object(b.jsx)(u.b,Object(o.a)(Object(o.a)({},n),{},{render:function(e){return r?Object(b.jsx)(t,Object(o.a)({},e)):Object(b.jsx)(u.a,{to:"/"})}}))}var m=n(36),g=n(50),O=n(102),p=n(105),h=n(107),v=n(108),x=n(27),S="developer21",y="123456",I={isSignedIn:!1,currentUser:null,enteredCredentialsValidity:!1},C=Object(x.b)({name:"auth",initialState:I,reducers:{initAuth:function(e,t){var n=t.payload;e.isSignedIn=n.isSignedIn||!1,e.currentUser=n.currentUser||null},checkCredentialsValidity:function(e,t){var n=t.payload,r=n.login,i=n.password,a=r===S,c=i===y;e.enteredCredentialsValidity=a&&c},signin:function(e,t){var n=t.payload;e.enteredCredentialsValidity&&(e.isSignedIn=!0,e.currentUser=n)},signout:function(){return I}}}),w=C.reducer,U=C.actions,V=U.initAuth,N=U.checkCredentialsValidity,k=U.signin,F=U.signout;var J=Object(O.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function T(){var e=J(),t=Object(u.g)(),n=Object(r.useState)({login:"",password:""}),i=Object(g.a)(n,2),a=i[0],c=i[1],s=a.login,l=a.password,j=Object(d.b)(),f=Object(d.c)((function(e){return e.auth.enteredCredentialsValidity}));!function(e,t){var n=Object(r.useRef)(!0);Object(r.useEffect)((function(){if(!n.current)return e();n.current=!1}),t)}((function(){j(N({login:s,password:l}))}),[s,l]);var O=function(e){var t=e.target;return c((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(m.a)({},t.name,t.value))}))};return Object(b.jsx)(p.a,{component:"main",maxWidth:"xs",children:Object(b.jsx)("div",{className:e.paper,children:Object(b.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(){j(k(s)),t.replace("/profile")},children:[Object(b.jsx)(h.a,{autoFocus:!0,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"login",label:"\u041b\u043e\u0433\u0438\u043d",value:s,onChange:O}),Object(b.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",value:l,onChange:O}),Object(b.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:!f,children:"\u0432\u043e\u0439\u0442\u0438"})]})})})}var W=Object(O.a)({wrapper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}});function D(){var e=W(),t=Object(d.b)(),n=Object(d.c)((function(e){return e.auth.currentUser}));return Object(b.jsxs)("div",{className:e.wrapper,children:[Object(b.jsx)("h1",{children:n}),Object(b.jsx)(v.a,{variant:"outlined",onClick:function(){t(F())},children:"\u0412\u044b\u0439\u0442\u0438"})]})}var q=Object(x.b)({name:"init",initialState:{init:!1},reducers:{init:function(e){e.init=!0}}}),A=q.reducer,B=q.actions.init;function E(){return Object(d.b)()(B()),Object(b.jsx)(s.a,{basename:"/",children:Object(b.jsxs)(u.d,{children:[Object(b.jsx)(u.b,{exact:!0,path:"/",component:T}),Object(b.jsx)(f,{path:"/profile",component:D})]})})}var L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,110)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),a(e),c(e)}))};function P(e,t){var n;if(null!==(n=!t)&&void 0!==n?n:t)try{return JSON.parse(localStorage.getItem(e))}catch(i){}var r=t.data;localStorage.setItem(e,JSON.stringify(r))}var M=function(e){return function(t){return function(n){if(t(n),B.match(n)){var r=P("isSignedIn"),i=P("currentUser");e.dispatch(V({isSignedIn:r,currentUser:i}))}if(k.match(n)||F.match(n)){var a=e.getState().auth.isSignedIn,c=e.getState().auth.currentUser;P("isSignedIn",{data:a}),P("currentUser",{data:c})}}}},R=Object(x.a)({reducer:{init:A,auth:w},middleware:function(e){return e().concat(M)}});c.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(d.a,{store:R,children:Object(b.jsx)(E,{})})}),document.getElementById("root")),L()}},[[74,1,2]]]);
//# sourceMappingURL=main.71b23135.chunk.js.map