(this["webpackJsonpurban-smart-test"]=this["webpackJsonpurban-smart-test"]||[]).push([[0],{61:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(8),c=n.n(a),u=(n(61),n(34)),s=n(12),o=n(37),l=n(50),d=n(17),b=n(7),j=["component"];function f(e){var t=e.component,n=Object(l.a)(e,j),r=Object(d.c)((function(e){return e.auth.isSignedIn}));return Object(b.jsx)(s.b,Object(o.a)(Object(o.a)({},n),{},{render:function(e){return r?Object(b.jsx)(t,Object(o.a)({},e)):Object(b.jsx)(s.a,{to:"/"})}}))}var h=n(41),m=n(101),O=n(104),g=n(106),p=n(107),v=n(26),x="developer21",S="123456",y={isSignedIn:!1,currentUser:null,enteredCredentialsValidity:!1},I=Object(v.b)({name:"auth",initialState:y,reducers:{initAuth:function(e,t){var n=t.payload;e.isSignedIn=n.isSignedIn||!1,e.currentUser=n.currentUser||null},checkCredentialsValidity:function(e,t){var n=t.payload,r=n.login,i=n.password,a=r===x,c=i===S;e.enteredCredentialsValidity=a&&c},signin:function(e,t){var n=t.payload;e.enteredCredentialsValidity&&(e.isSignedIn=!0,e.currentUser=n)},signout:function(){return y}}}),C=I.reducer,U=I.actions,w=U.initAuth,V=U.checkCredentialsValidity,N=U.signin,k=U.signout;var F=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function J(){var e=F(),t=Object(s.g)(),n=Object(r.useState)(""),i=Object(h.a)(n,2),a=i[0],c=i[1],u=Object(r.useState)(""),o=Object(h.a)(u,2),l=o[0],j=o[1],f=Object(d.b)(),m=Object(d.c)((function(e){return e.auth.enteredCredentialsValidity}));!function(e,t){var n=Object(r.useRef)(!0);Object(r.useEffect)((function(){if(!n.current)return e();n.current=!1}),t)}((function(){f(V({login:a,password:l}))}),[a,l]);return Object(b.jsx)(O.a,{component:"main",maxWidth:"xs",children:Object(b.jsx)("div",{className:e.paper,children:Object(b.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:function(){f(N(a)),t.push("/profile")},children:[Object(b.jsx)(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"\u041b\u043e\u0433\u0438\u043d",autoFocus:!0,value:a,onChange:function(e){return c(e.target.value)}}),Object(b.jsx)(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){return j(e.target.value)},value:l}),Object(b.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:!m,children:"\u0432\u043e\u0439\u0442\u0438"})]})})})}var T=Object(m.a)({wrapper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}});function W(){var e=T(),t=Object(d.b)(),n=Object(d.c)((function(e){return e.auth.currentUser}));return Object(b.jsxs)("div",{className:e.wrapper,children:[Object(b.jsx)("h1",{children:n}),Object(b.jsx)(p.a,{variant:"outlined",onClick:function(){t(k())},children:"\u0412\u044b\u0439\u0442\u0438"})]})}var D=Object(v.b)({name:"init",initialState:{init:!1},reducers:{init:function(e){e.init=!0}}}),q=D.reducer,A=D.actions.init;function B(){return Object(d.b)()(A()),Object(b.jsx)(u.a,{basename:"/",children:Object(b.jsxs)(s.d,{children:[Object(b.jsx)(s.b,{exact:!0,path:"/",component:J}),Object(b.jsx)(f,{path:"/profile",component:W})]})})}var E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,109)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),a(e),c(e)}))};function L(e,t){if(!t)try{return JSON.parse(localStorage.getItem(e))}catch(r){}var n=t.data;localStorage.setItem(e,JSON.stringify(n))}var P=function(e){return function(t){return function(n){if(t(n),A.match(n)){var r=L("isSignedIn"),i=L("currentUser");e.dispatch(w({isSignedIn:r,currentUser:i}))}if(N.match(n)||k.match(n)){var a=e.getState().auth.isSignedIn,c=e.getState().auth.currentUser;L("isSignedIn",{data:a}),L("currentUser",{data:c})}}}},M=Object(v.a)({reducer:{init:q,auth:C},middleware:function(e){return e().concat(P)}});c.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(d.a,{store:M,children:Object(b.jsx)(B,{})})}),document.getElementById("root")),E()}},[[73,1,2]]]);
//# sourceMappingURL=main.4a870150.chunk.js.map